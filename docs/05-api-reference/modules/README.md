# 核心模块API文档

框架核心组件的详细API参考文档。

## 📁 模块列表

### [客户端API](./client.md)
**核心类**: `FederatedClient`
**主要功能**:
- 本地模型训练
- 参数上传和下载
- 数据隐私保护
- 训练状态管理

**关键方法**:
- `train()` - 执行本地训练
- `get_model_params()` - 获取模型参数
- `set_model_params()` - 设置模型参数
- `evaluate()` - 模型评估

### [服务器API](./server.md)
**核心类**: `FederatedServer`
**主要功能**:
- 全局模型管理
- 参数聚合协调
- 客户端通信管理
- 训练轮次控制

**关键方法**:
- `aggregate()` - 聚合客户端参数
- `broadcast()` - 广播全局模型
- `select_clients()` - 客户端选择
- `run_round()` - 执行训练轮次

## 🏗️ 架构关系

```
FederatedServer
       ↓
    aggregate() ←—— 收集参数
       ↓
  全局模型更新
       ↓
   broadcast() ——→ 分发参数
       ↓
 FederatedClient
       ↓
    train() ——→ 本地训练
       ↓
get_model_params() ——→ 上传参数
│    工具     │
│  (Utils)    │
└─────────────┘
       ▲
       │
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│    数据     │    │    模型     │    │   聚合算法  │
│   (Data)    │    │  (Models)   │    │(Aggregation)│
└─────────────┘    └─────────────┘    └─────────────┘
       ▲                   ▲                   ▲
       │                   │                   │
       └───────────────────┼───────────────────┘
                           │
                    ┌─────────────┐
                    │    通信     │
                    │(Communication)│
                    └─────────────┘
                           ▲
                           │
              ┌─────────────┼─────────────┐
              │                           │
       ┌─────────────┐              ┌─────────────┐
       │   客户端    │              │   服务器    │
       │  (Client)   │              │  (Server)   │
       └─────────────┘              └─────────────┘
```

## 快速导航

- **新手**: 建议从[客户端](client.md)和[服务器](server.md)文档开始
- **模型开发**: 查看[模型模块](models.md)文档
- **数据处理**: 参考[数据模块](data.md)文档
- **算法研究**: 阅读[聚合算法](aggregation.md)文档
- **系统集成**: 了解[通信模块](communication.md)文档

## 编程规范

### 1. 接口设计
所有核心组件都基于抽象基类：
- 继承相应的基类
- 实现所有抽象方法
- 遵循里氏替换原则

### 2. 错误处理
- 使用异常处理机制
- 提供清晰的错误信息
- 记录关键操作日志

### 3. 文档规范
- 类和方法都有详细的docstring
- 参数类型和返回值类型注解
- 提供使用示例

### 4. 测试覆盖
- 每个模块都应有对应的测试
- 关键功能100%测试覆盖
- 包含正常和异常情况测试
