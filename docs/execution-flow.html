<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡¹ç›®è¿è¡Œæµç¨‹ - è”é‚¦å­¦ä¹ æ¡†æ¶æ–‡æ¡£</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>ğŸš€ è”é‚¦å­¦ä¹ æ¡†æ¶</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">é¦–é¡µ</a></li>
                <li><a href="core.html" class="nav-link">Core</a></li>
                <li><a href="communication.html" class="nav-link">Communication</a></li>
                <li><a href="aggregation.html" class="nav-link">Aggregation</a></li>
                <li><a href="data.html" class="nav-link">Data</a></li>
                <li><a href="models.html" class="nav-link">Models</a></li>
                <li><a href="utils.html" class="nav-link">Utils</a></li>
                <li><a href="execution-flow.html" class="nav-link active">æ‰§è¡Œæµç¨‹</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <a href="index.html" class="back-button">â† è¿”å›é¦–é¡µ</a>
        
        <header class="hero">
            <h1>âš¡ é¡¹ç›®è¿è¡Œæµç¨‹</h1>
            <p class="hero-subtitle">è¯¦è§£è”é‚¦å­¦ä¹ æ¡†æ¶çš„å®Œæ•´æ‰§è¡Œæµç¨‹å’Œæ¨¡å—è°ƒç”¨é¡ºåº</p>
        </header>

        <!-- ç›®å½•å¯¼èˆª -->
        <div class="content-section">
            <h2>ğŸ“‹ é¡µé¢ç›®å½•</h2>
            <div class="toc-grid">
                <div class="toc-card">
                    <h4><a href="#overview">ğŸ”„ æ•´ä½“è¿è¡Œæµç¨‹æ¦‚è§ˆ</a></h4>
                    <p>æ¡†æ¶çš„ç”Ÿå‘½å‘¨æœŸå’Œå„é˜¶æ®µæ¦‚è¿°</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage1">ğŸš€ ç¬¬ä¸€é˜¶æ®µï¼šç¨‹åºå¯åŠ¨</a></h4>
                    <p>main.py å…¥å£ç‚¹å’Œé…ç½®è§£æ</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage2">âš™ï¸ ç¬¬äºŒé˜¶æ®µï¼šå®éªŒåˆå§‹åŒ–</a></h4>
                    <p>ExperimentRunner å’Œç¯å¢ƒè®¾ç½®</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage3">ğŸ“Š ç¬¬ä¸‰é˜¶æ®µï¼šæ•°æ®å‡†å¤‡</a></h4>
                    <p>æ•°æ®åŠ è½½å’Œåˆ†å‰²</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage4">ğŸ–¥ï¸ ç¬¬å››é˜¶æ®µï¼šæœåŠ¡å™¨è®¾ç½®</a></h4>
                    <p>æœåŠ¡å™¨åˆå§‹åŒ–å’Œæ¨¡å‹è®¾ç½®</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage5">ğŸ‘¥ ç¬¬äº”é˜¶æ®µï¼šå®¢æˆ·ç«¯è®¾ç½®</a></h4>
                    <p>å®¢æˆ·ç«¯åˆ›å»ºå’Œé…ç½®</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage6">ğŸ”„ ç¬¬å…­é˜¶æ®µï¼šè”é‚¦è®­ç»ƒ</a></h4>
                    <p>è®­ç»ƒå¾ªç¯å’Œæ¨¡å‹èšåˆ</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage7">ğŸ“Š ç¬¬ä¸ƒé˜¶æ®µï¼šæ¨¡å‹è¯„ä¼°</a></h4>
                    <p>æ¨¡å‹æ€§èƒ½è¯„ä¼°</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage8">ğŸ“ ç¬¬å…«é˜¶æ®µï¼šæ—¥å¿—è®°å½•</a></h4>
                    <p>WandB æ—¥å¿—å’Œç›‘æ§</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#stage9">ï¿½ ç¬¬ä¹é˜¶æ®µï¼šç»“æœå¤„ç†</a></h4>
                    <p>ç»“æœä¿å­˜å’Œèµ„æºæ¸…ç†</p>
                </div>
                <div class="toc-card">
                    <h4><a href="#flow-diagram">ğŸ—ºï¸ å®Œæ•´æµç¨‹å›¾</a></h4>
                    <p>å¯è§†åŒ–æ‰§è¡Œæµç¨‹</p>
                </div>
            </div>
        </div>

        <div class="content-section" id="overview">
            <h2>ğŸ”„ æ•´ä½“è¿è¡Œæµç¨‹æ¦‚è§ˆ</h2>
            <p>è”é‚¦å­¦ä¹ æ¡†æ¶ä»å¯åŠ¨åˆ°ç»“æŸçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼Œæ¶‰åŠé…ç½®åŠ è½½ã€ç¯å¢ƒåˆå§‹åŒ–ã€æ•°æ®å‡†å¤‡ã€æ¨¡å‹åˆ›å»ºã€è”é‚¦è®­ç»ƒå’Œç»“æœå¤„ç†ç­‰å¤šä¸ªé˜¶æ®µã€‚</p>
            
            <div class="architecture-content">
                <div class="architecture-diagram">
                    <div class="arch-layer">
                        <h4>1. å¯åŠ¨é˜¶æ®µ</h4>
                        <div class="arch-components">
                            <span>main.py</span>
                            <span>é…ç½®è§£æ</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>2. åˆå§‹åŒ–é˜¶æ®µ</h4>
                        <div class="arch-components">
                            <span>ç¯å¢ƒè®¾ç½®</span>
                            <span>ç»„ä»¶åˆ›å»º</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>3. è®­ç»ƒé˜¶æ®µ</h4>
                        <div class="arch-components">
                            <span>è”é‚¦è½®æ¬¡</span>
                            <span>æ¨¡å‹èšåˆ</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>4. ç»“æŸé˜¶æ®µ</h4>
                        <div class="arch-components">
                            <span>ç»“æœå¤„ç†</span>
                            <span>èµ„æºæ¸…ç†</span>
                        </div>
                    </div>
                </div>
                
                <div class="architecture-description">
                    <h4>æµç¨‹ç‰¹ç‚¹</h4>
                    <ul>
                        <li><strong>æ¨¡å—åŒ–è®¾è®¡ï¼š</strong> æ¯ä¸ªé˜¶æ®µèŒè´£æ˜ç¡®ï¼Œä¾¿äºç»´æŠ¤</li>
                        <li><strong>é”™è¯¯å¤„ç†ï¼š</strong> å„é˜¶æ®µéƒ½æœ‰å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
                        <li><strong>è¿›åº¦ç›‘æ§ï¼š</strong> å®æ—¶æ˜¾ç¤ºæ‰§è¡Œè¿›åº¦</li>
                        <li><strong>å¯æ‰©å±•æ€§ï¼š</strong> æ”¯æŒè‡ªå®šä¹‰ç»„ä»¶å’Œæµç¨‹</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage1">
            <h2>ğŸš€ ç¬¬ä¸€é˜¶æ®µï¼šç¨‹åºå¯åŠ¨ (main.py)</h2>
            <p>ç¨‹åºä» <code>main.py</code> å¼€å§‹æ‰§è¡Œï¼Œè¿™æ˜¯æ•´ä¸ªè”é‚¦å­¦ä¹ å®éªŒçš„å…¥å£ç‚¹ã€‚</p>
            
            <h3>æ‰§è¡Œé¡ºåºè¯¦è§£</h3>
            <div class="step">
                <div class="step-number">1.1</div>
                <div class="step-content">
                    <h4><code>main()</code> å‡½æ•°å¯åŠ¨</h4>
                    <pre><code>def main():
    # åˆ›å»ºé…ç½®ç®¡ç†å™¨
    config_manager = ConfigManager()
    
    # è§£æå‘½ä»¤è¡Œå‚æ•°
    parser = config_manager.create_parser()
    args = parser.parse_args()</code></pre>
                    <p><strong>ä½œç”¨ï¼š</strong> ç¨‹åºå…¥å£ï¼Œåˆå§‹åŒ–é…ç½®ç®¡ç†å™¨å¹¶è§£æå‘½ä»¤è¡Œå‚æ•°</p>
                </div>
            </div>

            <div class="step">
                <div class="step-number">1.2</div>
                <div class="step-content">
                    <h4><code>ConfigManager.create_parser()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/config_manager.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆ›å»ºå‘½ä»¤è¡Œå‚æ•°è§£æå™¨ï¼Œæ”¯æŒ --config, --rounds, --num-clients ç­‰å‚æ•°</p>
                    <pre><code>@staticmethod
def create_parser() -> argparse.ArgumentParser:
    parser = argparse.ArgumentParser(description='è”é‚¦å­¦ä¹ å®éªŒ')
    parser.add_argument('--config', default='configs/default.yaml')
    parser.add_argument('--rounds', type=int, help='è®­ç»ƒè½®æ•°')
    # ... æ›´å¤šå‚æ•°</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">1.3</div>
                <div class="step-content">
                    <h4><code>ConfigManager.load_config()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/config_manager.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åŠ è½½YAMLé…ç½®æ–‡ä»¶å¹¶éªŒè¯å…¶å®Œæ•´æ€§</p>
                    <pre><code>config = config_manager.load_config(args.config)
# å†…éƒ¨è°ƒç”¨ï¼š
# 1. yaml.safe_load() - è§£æYAMLæ–‡ä»¶
# 2. _validate_config() - éªŒè¯é…ç½®å®Œæ•´æ€§</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">1.4</div>
                <div class="step-content">
                    <h4><code>ConfigManager.override_config()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/config_manager.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®</p>
                    <pre><code>config = config_manager.override_config(config, args)
# ä¾‹å¦‚ï¼š--rounds 10 ä¼šè¦†ç›– config['experiment']['rounds']</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">1.5</div>
                <div class="step-content">
                    <h4>æ‰“å°é…ç½®ä¿¡æ¯</h4>
                    <p><strong>ä½œç”¨ï¼š</strong> å‘ç”¨æˆ·å±•ç¤ºå…³é”®å®éªŒé…ç½®ï¼Œç¡®è®¤å®éªŒå‚æ•°</p>
                    <pre><code>print("ğŸ”§ å®éªŒé…ç½®")
print(f"å®éªŒåç§°: {config['experiment']['name']}")
print(f"è®­ç»ƒè½®æ¬¡: {config['experiment']['rounds']}")
# ... æ›´å¤šé…ç½®ä¿¡æ¯</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage2">
            <h2>âš™ï¸ ç¬¬äºŒé˜¶æ®µï¼šå®éªŒåˆå§‹åŒ– (ExperimentRunner)</h2>
            <p>é…ç½®åŠ è½½å®Œæˆåï¼Œåˆ›å»º <code>ExperimentRunner</code> å®ä¾‹æ¥ç®¡ç†æ•´ä¸ªå®éªŒæµç¨‹ã€‚</p>

            <div class="step">
                <div class="step-number">2.1</div>
                <div class="step-content">
                    <h4><code>ExperimentRunner.__init__()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆå§‹åŒ–å®éªŒæ‰§è¡Œå™¨ï¼Œè®¾ç½®åŸºç¡€ç¯å¢ƒ</p>
                    <pre><code>def __init__(self, config: Dict[str, Any]):
    self.config = config
    self.device = device_manager.get_device()  # æ£€æµ‹GPU/CPU
    self.use_wandb = config.get('wandb', {}).get('enabled', False)
    # è®¾ç½®éšæœºç§å­
    self._set_random_seed(config['experiment']['seed'])</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2.2</div>
                <div class="step-content">
                    <h4><code>device_manager.get_device()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/device_manager.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> è‡ªåŠ¨æ£€æµ‹æœ€ä½³å¯ç”¨è®¾å¤‡ï¼ˆCUDA > MPS > CPUï¼‰</p>
                    <pre><code>def get_device():
    if torch.cuda.is_available():
        return torch.device('cuda')
    elif torch.backends.mps.is_available():
        return torch.device('mps')
    else:
        return torch.device('cpu')</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">2.3</div>
                <div class="step-content">
                    <h4><code>ExperimentRunner.run_experiment()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> ä¸»å®éªŒæ§åˆ¶æµç¨‹ï¼Œåè°ƒæ‰€æœ‰ç»„ä»¶</p>
                    <pre><code>def run_experiment(self) -> Dict[str, Any]:
    # 1. åˆå§‹åŒ–WandBï¼ˆå¦‚æœå¯ç”¨ï¼‰
    # 2. è®¾ç½®æ•°æ®åŠ è½½å™¨
    # 3. è®¾ç½®æœåŠ¡å™¨
    # 4. è®¾ç½®å®¢æˆ·ç«¯
    # 5. æ‰§è¡Œè”é‚¦è®­ç»ƒè½®æ¬¡
    # 6. æ”¶é›†å’Œè¿”å›ç»“æœ</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage3">
            <h2>ğŸ“Š ç¬¬ä¸‰é˜¶æ®µï¼šæ•°æ®å‡†å¤‡ (Data Setup)</h2>
            <p>ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºä¸“ç”¨çš„æ•°æ®åŠ è½½å™¨ï¼Œå®ç°æ•°æ®åˆ†åŒºã€‚</p>

            <div class="step">
                <div class="step-number">3.1</div>
                <div class="step-content">
                    <h4><code>ExperimentRunner.setup_data()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> ä¸ºæ‰€æœ‰å®¢æˆ·ç«¯åˆ›å»ºæ•°æ®åŠ è½½å™¨</p>
                    <pre><code>def setup_data(self):
    data_config = self.config['data']
    client_config = self.config['client']
    
    # ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºæ•°æ®åŠ è½½å™¨
    client_data_loaders = []
    for client_id in range(num_clients):
        # è·å–å®¢æˆ·ç«¯æ•°æ®é›†é…ç½®
        client_dataset_names = client_datasets_config[f"client_{client_id}"]
        # åˆ›å»ºæ•°æ®åŠ è½½å™¨</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3.2</div>
                <div class="step-content">
                    <h4><code>get_client_dataloaders()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>data/data_loader.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> ä¸ºå•ä¸ªå®¢æˆ·ç«¯åˆ›å»ºæ•°æ®åŠ è½½å™¨å­—å…¸</p>
                    <pre><code>def get_client_dataloaders(dataset_configs, client_id=0, total_clients=1, batch_size=32):
    dataloaders = {}
    for dataset_config in dataset_configs:
        dataset_name = dataset_config['name']
        
        # 1. éªŒè¯æ•°æ®é›†åç§°
        validated_name = _validate_dataset_name(dataset_name)
        
        # 2. åˆ›å»ºæ•°æ®é›†å®ä¾‹
        dataset_class = SUPPORTED_DATASETS[validated_name]
        dataset = dataset_class(**dataset_config)
        
        # 3. è®¡ç®—å®¢æˆ·ç«¯æ•°æ®èŒƒå›´
        start_idx, end_idx = _calculate_client_data_range(
            client_id, total_clients, len(dataset)
        )
        
        # 4. åˆ›å»ºæ•°æ®å­é›†
        subset = _create_dataset_subset(dataset, start_idx, end_idx)
        
        # 5. åˆ›å»ºæ•°æ®åŠ è½½å™¨
        dataloader = DataLoader(subset, batch_size=batch_size, shuffle=True)
        dataloaders[dataset_name] = dataloader</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3.3</div>
                <div class="step-content">
                    <h4>æ•°æ®é›†ç±»åˆå§‹åŒ–</h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>data/datasets/mnist.py</code> æˆ– <code>data/datasets/cifar10.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åŠ è½½å’Œé¢„å¤„ç†æ•°æ®é›†</p>
                    <pre><code># MNISTæ•°æ®é›†ç¤ºä¾‹
class MNIST(Dataset):
    def __init__(self, data_root: str, train: bool = True, preprocess=None):
        # è®¾ç½®æ•°æ®å˜æ¢
        transform = transforms.Compose([
            transforms.ToTensor(),
            transforms.Normalize((0.1307,), (0.3081,))
        ])
        
        # ä¸‹è½½å¹¶åŠ è½½æ•°æ®
        self.dataset = datasets.MNIST(
            root=data_root, train=train, download=True, transform=transform
        )</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">3.4</div>
                <div class="step-content">
                    <h4>æ•°æ®ç»Ÿè®¡æ‰“å°</h4>
                    <p><strong>ä½œç”¨ï¼š</strong> æ˜¾ç¤ºæ¯ä¸ªå®¢æˆ·ç«¯çš„æ•°æ®åˆ†å¸ƒæƒ…å†µ</p>
                    <pre><code>def _print_data_statistics(self, client_data_loaders, num_clients):
    print(f"âœ“ æ•°æ®åŠ è½½å®Œæˆ: {num_clients} ä¸ªå®¢æˆ·ç«¯")
    for client_id, dataloaders_dict in enumerate(client_data_loaders):
        # ç»Ÿè®¡æ¯ä¸ªå®¢æˆ·ç«¯çš„æ•°æ®é‡
        total_client_samples = 0
        for dataset_name, dataloader in dataloaders_dict.items():
            samples = len(dataloader.dataset)
            total_client_samples += samples
        print(f"  å®¢æˆ·ç«¯ {client_id}: æ€»è®¡ {total_client_samples} æ ·æœ¬")</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage4">
            <h2>ğŸ–¥ï¸ ç¬¬å››é˜¶æ®µï¼šæœåŠ¡å™¨è®¾ç½® (Server Setup)</h2>
            <p>åˆ›å»ºå…¨å±€æ¨¡å‹å’Œè”é‚¦å­¦ä¹ æœåŠ¡å™¨ã€‚</p>

            <div class="step">
                <div class="step-number">4.1</div>
                <div class="step-content">
                    <h4><code>ExperimentRunner.setup_server()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆ›å»ºå…¨å±€æ¨¡å‹å’ŒæœåŠ¡å™¨å®ä¾‹</p>
                    <pre><code>def setup_server(self):
    # 1. åˆ›å»ºå…¨å±€æ¨¡å‹
    global_model = ModelFactory.create_model(
        self.config['model'],
        self.config.get('optimizer', {})
    )
    
    # 2. ç§»åŠ¨æ¨¡å‹åˆ°è®¾å¤‡
    global_model = device_manager.move_model_to_device(global_model, self.device)
    
    # 3. åˆ›å»ºèšåˆå™¨å’ŒæœåŠ¡å™¨
    aggregator = FederatedAveraging()
    self.server = FederatedServer(global_model, aggregator)</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4.2</div>
                <div class="step-content">
                    <h4><code>ModelFactory.create_model()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/model_factory.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ ¹æ®é…ç½®åˆ›å»ºç›¸åº”ç±»å‹çš„æ¨¡å‹</p>
                    <pre><code>@staticmethod
def create_model(model_config, optimizer_config=None):
    model_type = model_config.get('type', 'cnn')
    
    if model_type == 'cnn':
        return CNNModel(optimizer_config)
    elif model_type == 'clip':
        return CLIPModel(optimizer_config)
    else:
        raise ValueError(f"ä¸æ”¯æŒçš„æ¨¡å‹ç±»å‹: {model_type}")</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4.3</div>
                <div class="step-content">
                    <h4>æ¨¡å‹ç±»åˆå§‹åŒ–</h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>models/cnn.py</code> æˆ– <code>models/clip.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆ›å»ºç¥ç»ç½‘ç»œç»“æ„å’Œä¼˜åŒ–å™¨</p>
                    <pre><code># CNNæ¨¡å‹ç¤ºä¾‹
class CNNModel(BaseModel):
    def __init__(self, optimizer_config=None):
        super().__init__(optimizer_config)
        
        # åˆ›å»ºCNNæ¨¡å‹ç»“æ„
        self.model = nn.Sequential(
            nn.Conv2d(3, 32, kernel_size=5),
            nn.ReLU(),
            nn.MaxPool2d(2, 2),
            # ... æ›´å¤šå±‚
        )
        
        # åˆ›å»ºæŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨
        self.criterion = nn.CrossEntropyLoss()
        self.create_optimizer(self.model.parameters())</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">4.4</div>
                <div class="step-content">
                    <h4><code>FederatedServer.__init__()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>core/server.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆå§‹åŒ–è”é‚¦å­¦ä¹ æœåŠ¡å™¨</p>
                    <pre><code>def __init__(self, global_model, aggregator):
    super().__init__()
    self.global_model = global_model
    self.aggregator = aggregator
    self.round_num = 0
    self.client_weights = {}  # å®¢æˆ·ç«¯æƒé‡</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage5">
            <h2>ğŸ‘¥ ç¬¬äº”é˜¶æ®µï¼šå®¢æˆ·ç«¯è®¾ç½® (Client Setup)</h2>
            <p>ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºè”é‚¦å­¦ä¹ å®¢æˆ·ç«¯å®ä¾‹ã€‚</p>

            <div class="step">
                <div class="step-number">5.1</div>
                <div class="step-content">
                    <h4><code>ExperimentRunner.setup_clients()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆ›å»ºæ‰€æœ‰å®¢æˆ·ç«¯å®ä¾‹</p>
                    <pre><code>def setup_clients(self):
    self.clients = []
    
    for client_id in range(self.config['client']['num_clients']):
        # 1. åˆ›å»ºå®¢æˆ·ç«¯æ¨¡å‹ï¼ˆå¤åˆ¶æœåŠ¡å™¨æ¨¡å‹ç»“æ„ï¼‰
        client_model = ModelFactory.create_model(
            self.config['model'],
            self.config.get('optimizer', {})
        )
        
        # 2. ç§»åŠ¨æ¨¡å‹åˆ°è®¾å¤‡
        client_model = device_manager.move_model_to_device(client_model, self.device)
        
        # 3. åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹
        client = FederatedClient(
            client_id=f"client_{client_id}",
            model=client_model,
            data_loader=self.client_data_loaders[client_id],
            epochs=self.config['client']['local_epochs'],
            learning_rate=self.config['client']['learning_rate'],
            device=self.device
        )
        
        self.clients.append(client)</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">5.2</div>
                <div class="step-content">
                    <h4><code>FederatedClient.__init__()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>core/client.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> åˆå§‹åŒ–è”é‚¦å­¦ä¹ å®¢æˆ·ç«¯</p>
                    <pre><code>def __init__(self, client_id: str, model, data_loader=None, epochs=1, 
             learning_rate=0.01, device=None):
    super().__init__(client_id)
    self.model = model
    self.data_loader = data_loader
    self.epochs = epochs
    self.learning_rate = learning_rate
    self.device = device or torch.device('cpu')</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage6">
            <h2>ğŸ”„ ç¬¬å…­é˜¶æ®µï¼šè”é‚¦è®­ç»ƒå¾ªç¯ (Federated Training)</h2>
            <p>æ‰§è¡Œå¤šè½®è”é‚¦å­¦ä¹ è®­ç»ƒï¼Œè¿™æ˜¯æ•´ä¸ªæ¡†æ¶çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</p>

            <div class="step">
                <div class="step-number">6.1</div>
                <div class="step-content">
                    <h4>ä¸»è®­ç»ƒå¾ªç¯</h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ§åˆ¶å¤šè½®è”é‚¦å­¦ä¹ çš„æ‰§è¡Œ</p>
                    <pre><code>for round_num in range(self.config['experiment']['rounds']):
    print(f"\nğŸ”„ è”é‚¦å­¦ä¹ è½®æ¬¡ {round_num + 1}/{self.config['experiment']['rounds']}")
    
    # æ‰§è¡Œä¸€è½®è”é‚¦å­¦ä¹ 
    round_metrics = self.run_federated_round(round_num)
    
    # è®°å½•è½®æ¬¡ç»“æœ
    results['rounds'].append({
        'round': round_num + 1,
        'metrics': round_metrics
    })</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">6.2</div>
                <div class="step-content">
                    <h4><code>ExperimentRunner.run_federated_round()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ‰§è¡Œå•è½®è”é‚¦å­¦ä¹ </p>
                    <pre><code>def run_federated_round(self, round_num: int) -> Dict[str, float]:
    # 1. è·å–å…¨å±€æ¨¡å‹å‚æ•°
    global_model_params = self.server.send_global_model()
    
    # 2. å®¢æˆ·ç«¯æœ¬åœ°è®­ç»ƒ
    client_updates = []
    with tqdm(total=len(self.clients), desc="å®¢æˆ·ç«¯è®­ç»ƒ") as pbar:
        for client in self.clients:
            # å®¢æˆ·ç«¯è®­ç»ƒ
            client_result = client.train(global_model_params, show_progress=False)
            client_updates.append(client_result)
            
            # æ›´æ–°è¿›åº¦æ¡
            loss = client_result['metrics']['loss']
            pbar.update(1)
            pbar.set_postfix({'Loss': f'{loss:.3f}'})
    
    # 3. æœåŠ¡å™¨èšåˆ
    self.server.aggregate(client_updates)
    
    # 4. è¯„ä¼°ï¼ˆå¦‚æœéœ€è¦ï¼‰
    metrics = {}
    if round_num % self.config['evaluation']['evaluate_every'] == 0:
        metrics = self.evaluation_manager.evaluate_global_model(
            self.server, self.test_dataloader, round_num
        )
    
    return metrics</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">6.3</div>
                <div class="step-content">
                    <h4><code>FederatedClient.train()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>core/client.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> å®¢æˆ·ç«¯æœ¬åœ°è®­ç»ƒ</p>
                    <pre><code>def train(self, global_model_params: Dict[str, Any], show_progress: bool = False):
    # 1. è®¾ç½®å…¨å±€æ¨¡å‹å‚æ•°
    if global_model_params:
        self.model.set_parameters(global_model_params)
    
    # 2. æœ¬åœ°è®­ç»ƒå¾ªç¯
    total_loss = 0.0
    total_samples = 0
    
    for epoch in range(self.epochs):
        for batch_data, batch_labels in self.data_loader:
            # å°†æ•°æ®ç§»åˆ°è®¾å¤‡
            batch_data, batch_labels = device_manager.move_tensors_to_device(
                batch_data, batch_labels, device=self.device
            )
            
            # æ‰§è¡Œè®­ç»ƒæ­¥éª¤
            loss = self.model.train_step(batch_data, batch_labels)
            total_loss += loss * batch_data.size(0)
            total_samples += batch_data.size(0)
    
    # 3. è®¡ç®—å¹³å‡æŸå¤±
    avg_loss = total_loss / total_samples if total_samples > 0 else 0.0
    
    # 4. è¯„ä¼°è®­ç»ƒåçš„æ¨¡å‹
    eval_metrics = self.evaluate_on_local_data()
    
    # 5. è¿”å›è®­ç»ƒç»“æœ
    return {
        'parameters': self.model.get_parameters(),
        'metrics': {
            'loss': avg_loss,
            'accuracy': eval_metrics.get('accuracy')
        }
    }</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">6.4</div>
                <div class="step-content">
                    <h4><code>CNNModel.train_step()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>models/cnn.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ‰§è¡Œå•æ­¥ç¥ç»ç½‘ç»œè®­ç»ƒ</p>
                    <pre><code>def train_step(self, data, labels):
    self.model.train()
    
    # ç¡®ä¿æ•°æ®åœ¨æ­£ç¡®è®¾å¤‡ä¸Š
    data, labels = self._ensure_device_compatibility(data, labels)
    
    # å‰å‘ä¼ æ’­
    outputs = self.model(data)
    loss = self.criterion(outputs, labels)
    
    # åå‘ä¼ æ’­
    self.optimizer.zero_grad()
    loss.backward()
    self.optimizer.step()
    
    return loss.item()</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">6.5</div>
                <div class="step-content">
                    <h4><code>FederatedServer.aggregate()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>core/server.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> èšåˆå®¢æˆ·ç«¯æ¨¡å‹æ›´æ–°</p>
                    <pre><code>def aggregate(self, client_updates: List[Dict[str, Any]]) -> Dict[str, Any]:
    if not client_updates:
        return self.global_model.get_parameters()
    
    # ä½¿ç”¨èšåˆç®—æ³•è¿›è¡Œèšåˆ
    aggregated_params = self.aggregator.aggregate(
        client_updates, self.client_weights
    )
    
    # æ›´æ–°å…¨å±€æ¨¡å‹
    self.global_model.set_parameters(aggregated_params)
    self.round_num += 1
    
    return aggregated_params</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">6.6</div>
                <div class="step-content">
                    <h4><code>FederatedAveraging.aggregate()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>aggregation/federated_avg.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ‰§è¡Œè”é‚¦å¹³å‡èšåˆç®—æ³•</p>
                    <pre><code>def aggregate(self, client_updates, client_weights=None):
    # 1. æå–å®¢æˆ·ç«¯å‚æ•°
    client_params_list = []
    for update in client_updates:
        if isinstance(update, dict) and 'parameters' in update:
            client_params_list.append(update['parameters'])
    
    # 2. å¤„ç†æƒé‡ï¼ˆå‡ç­‰æƒé‡æˆ–è‡ªå®šä¹‰æƒé‡ï¼‰
    if client_weights is None:
        num_clients = len(client_params_list)
        weights = [1.0 / num_clients] * num_clients
    else:
        weights = list(client_weights.values())
        total_weight = sum(weights)
        weights = [w / total_weight for w in weights]
    
    # 3. å‚æ•°èšåˆ
    aggregated_params = None
    for i, client_params in enumerate(client_params_list):
        weight = weights[i]
        
        if aggregated_params is None:
            aggregated_params = copy.deepcopy(client_params)
            for key in aggregated_params:
                aggregated_params[key] *= weight
        else:
            for key in client_params:
                if key in aggregated_params:
                    aggregated_params[key] += client_params[key] * weight
    
    return aggregated_params</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage7">
            <h2>ğŸ“Š ç¬¬ä¸ƒé˜¶æ®µï¼šæ¨¡å‹è¯„ä¼° (Evaluation)</h2>
            <p>å®šæœŸè¯„ä¼°å…¨å±€æ¨¡å‹å’Œå®¢æˆ·ç«¯æ¨¡å‹çš„æ€§èƒ½ã€‚</p>

            <div class="step">
                <div class="step-number">7.1</div>
                <div class="step-content">
                    <h4><code>EvaluationManager.evaluate_global_model()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/evaluation_manager.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> è¯„ä¼°å…¨å±€æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„æ€§èƒ½</p>
                    <pre><code>def evaluate_global_model(self, server, test_dataloader, round_num):
    try:
        print(f"  ğŸ“Š è¯„ä¼°å…¨å±€æ¨¡å‹ (è½®æ¬¡ {round_num + 1})")
        
        # ä½¿ç”¨æœåŠ¡å™¨çš„è¯„ä¼°æ–¹æ³•
        global_metrics = server.evaluate_with_dataloader(test_dataloader)
        
        if global_metrics:
            print(f"    å…¨å±€å‡†ç¡®ç‡: {global_metrics.get('accuracy', 0):.4f}")
            print(f"    å…¨å±€æŸå¤±: {global_metrics.get('loss', 0):.4f}")
        
        return {
            'global_accuracy': global_metrics.get('accuracy', 0),
            'global_loss': global_metrics.get('loss', 0)
        }
    except Exception as e:
        print(f"    âš ï¸  å…¨å±€è¯„ä¼°å¤±è´¥: {str(e)}")
        return {}</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">7.2</div>
                <div class="step-content">
                    <h4><code>FederatedServer.evaluate_with_dataloader()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>core/server.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> ä½¿ç”¨æ•°æ®åŠ è½½å™¨è¯„ä¼°å…¨å±€æ¨¡å‹</p>
                    <pre><code>def evaluate_with_dataloader(self, test_dataloader):
    try:
        total_samples = 0
        total_loss = 0.0
        total_correct = 0
        
        self.global_model.model.eval()
        
        with torch.no_grad():
            for batch_data, batch_labels in test_dataloader:
                # è¯„ä¼°æ‰¹æ¬¡æ•°æ®
                metrics = self.global_model.evaluate(batch_data, batch_labels)
                
                batch_size = batch_data.size(0)
                total_samples += batch_size
                total_loss += metrics['loss'] * batch_size
                total_correct += metrics['accuracy'] * batch_size
        
        return {
            'loss': total_loss / total_samples,
            'accuracy': total_correct / total_samples
        }
    except Exception as e:
        print(f"âš ï¸  å…¨å±€æ¨¡å‹è¯„ä¼°å¤±è´¥: {str(e)}")
        return {}</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage8">
            <h2>ğŸ“ ç¬¬å…«é˜¶æ®µï¼šæ—¥å¿—è®°å½• (Logging)</h2>
            <p>è®°å½•å®éªŒè¿‡ç¨‹ä¸­çš„å„ç§æŒ‡æ ‡å’Œä¿¡æ¯ã€‚</p>

            <div class="step">
                <div class="step-number">8.1</div>
                <div class="step-content">
                    <h4>WandBæ—¥å¿—è®°å½•ï¼ˆå¯é€‰ï¼‰</h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/wandb_logger.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> è®°å½•å®éªŒæŒ‡æ ‡åˆ°WandBå¹³å°</p>
                    <pre><code># å¦‚æœå¯ç”¨WandB
if self.use_wandb:
    # è®°å½•å®¢æˆ·ç«¯æŒ‡æ ‡
    log_client_metrics(
        client.client_id,
        round_num,
        metrics.get('loss', 0.0),
        metrics.get('accuracy')
    )
    
    # è®°å½•å…¨å±€æŒ‡æ ‡
    log_global_metrics(round_num, global_metrics)</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">8.2</div>
                <div class="step-content">
                    <h4>æ§åˆ¶å°è¾“å‡º</h4>
                    <p><strong>ä½œç”¨ï¼š</strong> å®æ—¶æ˜¾ç¤ºè®­ç»ƒè¿›åº¦å’Œå…³é”®æŒ‡æ ‡</p>
                    <pre><code># è¿›åº¦æ¡æ˜¾ç¤º
with tqdm(total=len(self.clients), desc="å®¢æˆ·ç«¯è®­ç»ƒ") as pbar:
    for client in self.clients:
        # ... è®­ç»ƒé€»è¾‘
        pbar.update(1)
        pbar.set_postfix({'Loss': f'{loss:.3f}'})

# è¯„ä¼°ç»“æœè¾“å‡º
print(f"    å…¨å±€å‡†ç¡®ç‡: {global_metrics.get('accuracy', 0):.4f}")
print(f"    å…¨å±€æŸå¤±: {global_metrics.get('loss', 0):.4f}")</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section" id="stage9">
            <h2>ğŸ“‹ ç¬¬ä¹é˜¶æ®µï¼šç»“æœå¤„ç† (Results Processing)</h2>
            <p>å®éªŒå®Œæˆåï¼Œæ”¶é›†ã€å¤„ç†å’Œå±•ç¤ºå®éªŒç»“æœã€‚</p>

            <div class="step">
                <div class="step-number">9.1</div>
                <div class="step-content">
                    <h4>ç»“æœæ”¶é›†</h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/experiment_runner.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ±‡æ€»æ‰€æœ‰è½®æ¬¡çš„å®éªŒç»“æœ</p>
                    <pre><code># åœ¨å®éªŒç»“æŸæ—¶
end_time = time.time()
execution_time = end_time - start_time

results = {
    'experiment_config': {
        'name': self.config['experiment']['name'],
        'rounds': self.config['experiment']['rounds'],
        'num_clients': self.config['client']['num_clients'],
        'local_epochs': self.config['client']['local_epochs']
    },
    'final_metrics': final_metrics,
    'rounds': round_results,
    'execution_time': execution_time
}

return results</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">9.2</div>
                <div class="step-content">
                    <h4><code>ResultsHandler.print_experiment_summary()</code></h4>
                    <p><strong>æ¨¡å—ï¼š</strong> <code>utils/results_handler.py</code></p>
                    <p><strong>ä½œç”¨ï¼š</strong> æ‰“å°å®éªŒç»“æœæ‘˜è¦</p>
                    <pre><code>@staticmethod
def print_experiment_summary(results: Dict[str, Any]):
    print("ğŸ“Š å®éªŒç»“æœæ‘˜è¦")
    print(f"å®éªŒåç§°: {results['experiment_config']['name']}")
    print(f"æ‰§è¡Œæ—¶é—´: {results['execution_time']:.2f} ç§’")
    
    # æœ€ç»ˆæ€§èƒ½æŒ‡æ ‡
    final_metrics = results.get('final_metrics', {})
    if final_metrics:
        print(f"æœ€ç»ˆå…¨å±€å‡†ç¡®ç‡: {final_metrics.get('global_accuracy', 0):.4f}")
        print(f"æœ€ç»ˆå…¨å±€æŸå¤±: {final_metrics.get('global_loss', 0):.4f}")
    
    # è®­ç»ƒè½®æ¬¡ç»Ÿè®¡
    rounds_data = results.get('rounds', [])
    if rounds_data:
        print(f"æ€»è®­ç»ƒè½®æ¬¡: {len(rounds_data)}")
        # æ˜¾ç¤ºè®­ç»ƒè¶‹åŠ¿ç­‰</code></pre>
                </div>
            </div>

            <div class="step">
                <div class="step-number">9.3</div>
                <div class="step-content">
                    <h4>èµ„æºæ¸…ç†</h4>
                    <p><strong>ä½œç”¨ï¼š</strong> æ¸…ç†WandBä¼šè¯å’Œå…¶ä»–èµ„æº</p>
                    <pre><code># åœ¨main()å‡½æ•°ç»“æŸæ—¶
finally:
    # ç»“æŸWandBä¼šè¯ï¼ˆå¦‚æœå¯ç”¨ï¼‰
    if self.use_wandb:
        finish_wandb()
    
    # æ¸…ç†å…¶ä»–èµ„æº
    torch.cuda.empty_cache()  # æ¸…ç†GPUç¼“å­˜</code></pre>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ” å…³é”®æ•°æ®æµ</h2>
            <p>ç†è§£æ•°æ®åœ¨å„ä¸ªæ¨¡å—é—´çš„æµåŠ¨æ–¹å¼ã€‚</p>

            <h3>æ¨¡å‹å‚æ•°æµåŠ¨</h3>
            <div class="architecture-content">
                <div class="architecture-diagram">
                    <div class="arch-layer">
                        <h4>æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯</h4>
                        <div class="arch-components">
                            <span>server.send_global_model()</span>
                            <span>Dict[str, Tensor]</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>å®¢æˆ·ç«¯æœ¬åœ°è®­ç»ƒ</h4>
                        <div class="arch-components">
                            <span>client.train()</span>
                            <span>æœ¬åœ°å‚æ•°æ›´æ–°</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨</h4>
                        <div class="arch-components">
                            <span>{'parameters': ..., 'metrics': ...}</span>
                            <span>è®­ç»ƒç»“æœ</span>
                        </div>
                    </div>
                    <div class="arch-layer">
                        <h4>æœåŠ¡å™¨èšåˆ</h4>
                        <div class="arch-components">
                            <span>aggregator.aggregate()</span>
                            <span>æ–°çš„å…¨å±€å‚æ•°</span>
                        </div>
                    </div>
                </div>
                
                <div class="architecture-description">
                    <h4>æ•°æ®æµç‰¹ç‚¹</h4>
                    <ul>
                        <li><strong>å‚æ•°å…±äº«ï¼š</strong> åªä¼ é€’æ¨¡å‹å‚æ•°ï¼Œä¸ä¼ é€’åŸå§‹æ•°æ®</li>
                        <li><strong>æ·±æ‹·è´ä¿æŠ¤ï¼š</strong> é¿å…å‚æ•°å¼•ç”¨å†²çª</li>
                        <li><strong>è®¾å¤‡ç®¡ç†ï¼š</strong> è‡ªåŠ¨å¤„ç†CPU/GPUè½¬æ¢</li>
                        <li><strong>æ ¼å¼ç»Ÿä¸€ï¼š</strong> æ ‡å‡†åŒ–çš„å‚æ•°å­—å…¸æ ¼å¼</li>
                    </ul>
                </div>
            </div>

            <h3>é…ç½®ä¿¡æ¯ä¼ é€’</h3>
            <pre><code># é…ç½®ä»main.pyæµå‘å„ä¸ªç»„ä»¶
main.py
â”œâ”€â”€ ConfigManager.load_config() â†’ config dict
â”œâ”€â”€ ExperimentRunner(config)
â”‚   â”œâ”€â”€ ModelFactory.create_model(config['model'])
â”‚   â”œâ”€â”€ setup_data() ä½¿ç”¨ config['data']
â”‚   â”œâ”€â”€ setup_clients() ä½¿ç”¨ config['client']
â”‚   â””â”€â”€ run_experiment() ä½¿ç”¨ config['experiment']</code></pre>
        </div>

        <div class="content-section">
            <h2>â±ï¸ æ€§èƒ½ç›‘æ§ç‚¹</h2>
            <p>åœ¨è¿è¡Œæµç¨‹ä¸­çš„å…³é”®æ€§èƒ½ç›‘æ§ç‚¹ã€‚</p>

            <table class="property-table">
                <tr>
                    <th>é˜¶æ®µ</th>
                    <th>ç›‘æ§æŒ‡æ ‡</th>
                    <th>è¾“å‡ºä½ç½®</th>
                </tr>
                <tr>
                    <td>æ•°æ®åŠ è½½</td>
                    <td>æ•°æ®é›†å¤§å°ã€åˆ†åŒºæƒ…å†µ</td>
                    <td>æ§åˆ¶å°è¾“å‡º</td>
                </tr>
                <tr>
                    <td>å®¢æˆ·ç«¯è®­ç»ƒ</td>
                    <td>è®­ç»ƒæŸå¤±ã€è¿›åº¦æ¡</td>
                    <td>tqdmè¿›åº¦æ¡</td>
                </tr>
                <tr>
                    <td>æœåŠ¡å™¨èšåˆ</td>
                    <td>èšåˆå‚æ•°æ•°é‡</td>
                    <td>å†…éƒ¨æ—¥å¿—</td>
                </tr>
                <tr>
                    <td>æ¨¡å‹è¯„ä¼°</td>
                    <td>å‡†ç¡®ç‡ã€æŸå¤±å€¼</td>
                    <td>æ§åˆ¶å° + WandB</td>
                </tr>
                <tr>
                    <td>æ•´ä½“å®éªŒ</td>
                    <td>æ‰§è¡Œæ—¶é—´ã€æœ€ç»ˆæ€§èƒ½</td>
                    <td>ç»“æœæ‘˜è¦</td>
                </tr>
            </table>
        </div>

        <div class="content-section">
            <h2>ğŸš¨ å¼‚å¸¸å¤„ç†æµç¨‹</h2>
            <p>å„ä¸ªé˜¶æ®µçš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚</p>

            <ul>
                <li><strong>é…ç½®éªŒè¯ï¼š</strong> ConfigManager åœ¨åŠ è½½æ—¶éªŒè¯é…ç½®å®Œæ•´æ€§</li>
                <li><strong>è®¾å¤‡æ£€æµ‹ï¼š</strong> DeviceManager è‡ªåŠ¨é™çº§åˆ°å¯ç”¨è®¾å¤‡</li>
                <li><strong>æ•°æ®åŠ è½½ï¼š</strong> è‡ªåŠ¨ä¸‹è½½ç¼ºå¤±çš„æ•°æ®é›†</li>
                <li><strong>è®­ç»ƒå¼‚å¸¸ï¼š</strong> æ•è·å¹¶è®°å½•è®­ç»ƒé”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ</li>
                <li><strong>è¯„ä¼°å¤±è´¥ï¼š</strong> è¿”å›ç©ºæŒ‡æ ‡å­—å…¸ï¼Œä¸ä¸­æ–­è®­ç»ƒ</li>
                <li><strong>èµ„æºæ¸…ç†ï¼š</strong> ä½¿ç”¨ finally å—ç¡®ä¿èµ„æºé‡Šæ”¾</li>
            </ul>
        </div>

        <div class="content-section" id="flow-diagram">
            <h2>ğŸ¯ æ€»ç»“</h2>
            <p>è”é‚¦å­¦ä¹ æ¡†æ¶çš„å®Œæ•´è¿è¡Œæµç¨‹ä½“ç°äº†ä»¥ä¸‹è®¾è®¡åŸåˆ™ï¼š</p>

            <div class="warning-box">
                <strong>æ¨¡å—åŒ–ï¼š</strong> æ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„èŒè´£å’Œæ¥å£ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚
            </div>

            <div class="info-box">
                <strong>å¯é…ç½®ï¼š</strong> é€šè¿‡YAMLé…ç½®æ–‡ä»¶çµæ´»æ§åˆ¶å®éªŒå‚æ•°ï¼Œæ”¯æŒå‘½ä»¤è¡Œè¦†ç›–ã€‚
            </div>

            <div class="warning-box">
                <strong>å®¹é”™æ€§ï¼š</strong> å„ä¸ªå…³é”®ç¯èŠ‚éƒ½æœ‰å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿å®éªŒçš„ç¨³å®šæ€§ã€‚
            </div>

            <div class="info-box">
                <strong>å¯è§‚æµ‹ï¼š</strong> æä¾›è¯¦ç»†çš„æ—¥å¿—è¾“å‡ºå’Œæ€§èƒ½ç›‘æ§ï¼Œä¾¿äºè°ƒè¯•å’Œåˆ†æã€‚
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 è”é‚¦å­¦ä¹ æ¡†æ¶. æ‰€æœ‰æƒåˆ©ä¿ç•™.</p>
            <p>
                <a href="index.html">è¿”å›é¦–é¡µ</a> | 
                <a href="core.html">Core æ¨¡å—</a> | 
                <a href="communication.html">Communication æ¨¡å—</a> | 
                <a href="aggregation.html">Aggregation æ¨¡å—</a> | 
                <a href="data.html">Data æ¨¡å—</a> | 
                <a href="models.html">Models æ¨¡å—</a> | 
                <a href="utils.html">Utils æ¨¡å—</a> |
                <a href="#overview">å›åˆ°é¡¶éƒ¨ â†‘</a>
            </p>
        </div>
    </footer>

    <script src="assets/script.js"></script>
</body>
</html>
